# TaskMaster Plugin - Product Requirements Document (PRD)

## Executive Summary

TaskMaster is an advanced task management plugin for Obsidian that transforms note-taking into a comprehensive project management system. The plugin provides multi-state task toggles, people assignment, time tracking, and project visualization capabilities while maintaining the flexibility and markdown-first approach that Obsidian users expect.

## Problem Statement

Current task management in Obsidian is limited to simple checkboxes and manual tracking. Users need:
- More sophisticated task states beyond just "done" or "not done"
- Visual progress tracking and project health monitoring
- Team collaboration features with people assignment
- Integrated time tracking without leaving the note-taking environment
- Better organization of complex projects with multiple phases

## Product Vision

TaskMaster will become the premier task and project management solution within Obsidian, enabling users to seamlessly transition from personal note-taking to professional project management without changing tools or workflows.

## Target Users

### Primary Users
- **Project Managers**: Need visual progress tracking and team assignment features
- **Development Teams**: Require multiple task states and time tracking
- **Consultants**: Need time tracking and client project organization
- **Students/Researchers**: Want better organization of complex, multi-phase projects

### Secondary Users
- **Small Business Owners**: Managing multiple projects and team members
- **Content Creators**: Tracking editorial workflows and collaboration
- **Academic Professionals**: Managing research projects and publications

## Core Features & Requirements

### 1. Multi-State Task Toggles (Priority: High)

#### 1.1 Functional Requirements
- **Custom State Groups**: Users can create multiple state groups with different progression paths
- **Visual States**: Each state has a customizable name, color, and order
- **State Cycling**: Click to progress through states in defined order
- **Inline Integration**: Works seamlessly within markdown text and tables
- **Persistence**: State changes are saved automatically to the source file

#### 1.2 Technical Requirements
- Syntax: `{{multi-state-button:button_id:current_state}}`
- Support for both inline and code block definitions
- Real-time DOM updates without full page refresh
- Compatible with Obsidian's live preview mode

#### 1.3 User Stories
- As a project manager, I want to track tasks through states like "Backlog → In Progress → Review → Done" so I can visualize workflow progress
- As a developer, I want custom states like "Planning → Development → Testing → Deployed" so I can track technical project phases
- As a student, I want states like "Research → Draft → Review → Final" for assignment tracking

### 2. People & Assignment Management (Priority: High)

#### 2.1 Functional Requirements
- **People Database**: Centralized management of team members with names, emails, roles, and optional avatars
- **Task Assignment**: Ability to assign one or multiple people to any task or project
- **Visual Indicators**: Clear display of who is assigned to what
- **Filtering**: Filter tasks and projects by assignee
- **@Mention Support**: Quick assignment using @username syntax

#### 2.2 Technical Requirements
- People data stored in plugin settings with vault-level persistence
- Assignment data embedded in markdown using structured syntax
- Integration with multi-state buttons for comprehensive task tracking

#### 2.3 User Stories
- As a team lead, I want to assign tasks to specific team members so everyone knows their responsibilities
- As a project participant, I want to see all my assigned tasks across the vault so I can prioritize my work
- As a manager, I want to filter tasks by person so I can review individual workloads

### 3. Project Structure & Organization (Priority: Medium)

#### 3.1 Functional Requirements
- **Collapsible Sections**: Organize tasks into phases, milestones, or epics
- **Multiple Views**: Toggle between list, Kanban board, and calendar views
- **Hierarchical Organization**: Support nested projects and sub-tasks
- **Progress Visualization**: Automatic progress bars based on task completion

#### 3.2 Technical Requirements
- Leverage Obsidian's folding capabilities for collapsible sections
- Implement view switching through plugin commands and UI controls
- Calculate progress metrics in real-time based on task states

#### 3.3 User Stories
- As a project manager, I want to organize large projects into phases so I can track milestone completion
- As a team member, I want different views of the same data so I can work in my preferred format
- As a stakeholder, I want to see project progress at a glance so I can make informed decisions

### 4. Integrated Time Tracking (Priority: Medium)

#### 4.1 Functional Requirements
- **Task-Level Timers**: Start/stop timers directly on any task
- **Session Logging**: Record multiple time entries with optional notes
- **Reporting**: View time totals by task, project, person, or time period
- **Estimation Tracking**: Compare actual vs. estimated time

#### 4.2 Technical Requirements
- Timer state management with persistence across Obsidian sessions
- Time data storage in structured format within markdown files
- Integration with existing task and people systems

#### 4.3 User Stories
- As a consultant, I want to track time spent on client tasks so I can bill accurately
- As a developer, I want to compare estimated vs. actual time so I can improve future estimates
- As a manager, I want to see team time allocation so I can optimize resource planning

### 5. Progress Visualization & Reporting (Priority: Medium)

#### 5.1 Functional Requirements
- **Progress Bars**: Visual indicators for project and task completion
- **Dashboard View**: Central overview of project health and status
- **Automated Reports**: Daily/weekly summaries of progress and time
- **Export Capabilities**: Generate reports as markdown or CSV

#### 5.2 Technical Requirements
- Real-time progress calculation based on task states and completion
- Dashboard implemented as a dedicated view within Obsidian
- Report generation with customizable templates and time periods

#### 5.3 User Stories
- As a project manager, I want a dashboard showing all project statuses so I can identify issues early
- As a team lead, I want automated weekly reports so I can share progress with stakeholders
- As an individual contributor, I want to see my personal progress so I can stay motivated

## Technical Architecture

### Plugin Structure
```
TaskMaster/
├── main.ts                 # Plugin entry point and lifecycle
├── src/
│   ├── settings.ts         # Configuration and data models
│   ├── settings-tab.ts     # UI for plugin configuration
│   ├── commands/           # Command palette integrations
│   ├── processors/         # Markdown processing logic
│   ├── views/              # Custom views (dashboard, reports)
│   ├── utils/              # Shared utilities and helpers
│   └── types/              # TypeScript type definitions
└── styles.css              # Plugin-specific styling
```

### Data Models

#### TaskState
```typescript
interface TaskState {
  id: string;        // Unique identifier
  name: string;      // Display name
  color: string;     // Hex color code
  order: number;     // Position in progression
}
```

#### TaskStateGroup
```typescript
interface TaskStateGroup {
  id: string;           // Unique identifier
  name: string;         // Display name
  states: TaskState[];  // Ordered list of states
}
```

#### Person
```typescript
interface Person {
  id: string;      // Unique identifier
  name: string;    // Full name
  email: string;   // Contact email
  avatar?: string; // Optional avatar URL
  role?: string;   // Optional role/title
}
```

### Integration Points

#### Obsidian APIs
- **Plugin API**: Core plugin lifecycle and settings management
- **Markdown Processing**: Custom syntax parsing and rendering
- **Command API**: Command palette integration
- **Workspace API**: Custom views and panels
- **Vault API**: File reading/writing for persistence

#### External Libraries
- **Date/Time**: Native JavaScript Date object for time tracking
- **Color Handling**: Built-in color utilities for state styling
- **CSV Export**: Custom implementation for report generation

## User Experience Design

### Settings Interface
- **Tabbed Layout**: Separate sections for States, People, Time Tracking, and General settings
- **Live Preview**: Changes reflect immediately in the interface
- **Import/Export**: Backup and restore configurations
- **Validation**: Prevent invalid configurations with clear error messages

### Task Interface
- **Intuitive Clicking**: Single click to cycle through states
- **Visual Feedback**: Smooth transitions and clear state indicators
- **Contextual Actions**: Right-click for additional options
- **Keyboard Support**: Shortcuts for power users

### Dashboard Interface
- **Overview Cards**: Summary statistics for quick insights
- **Interactive Charts**: Click to drill down into details
- **Filtering**: Multiple filter options for focused views
- **Responsive Design**: Works across different screen sizes

## Success Metrics

### User Adoption
- **Downloads**: Target 1,000+ downloads within 3 months of release
- **Active Users**: 70%+ user retention after 30 days
- **Community Engagement**: Positive feedback and feature requests

### Feature Usage
- **Multi-State Buttons**: 80%+ of active users create custom state groups
- **Time Tracking**: 50%+ of users track time on at least one task weekly
- **People Assignment**: 40%+ of users assign tasks to team members

### Performance
- **Load Time**: Plugin initialization under 100ms
- **Responsiveness**: State changes reflect within 50ms
- **Memory Usage**: Under 10MB for typical usage patterns

## Risk Assessment

### Technical Risks
- **Obsidian API Changes**: Mitigation through version compatibility testing
- **Performance**: Regular profiling and optimization
- **Data Corruption**: Robust validation and backup mechanisms

### User Experience Risks
- **Complexity**: Phased rollout with progressive feature exposure
- **Learning Curve**: Comprehensive documentation and examples
- **Workflow Disruption**: Non-invasive integration with existing workflows

### Market Risks
- **Competition**: Focus on unique Obsidian integration advantages
- **User Adoption**: Strong community engagement and feedback incorporation

## Implementation Timeline

### Phase 1: Core Infrastructure (Weeks 1-2)
- [x] Plugin setup and build system
- [x] Settings management and persistence
- [x] Logging and debugging infrastructure
- [x] Basic multi-state button implementation

### Phase 2: Multi-State Buttons (Weeks 3-4)
- [ ] Complete state group management
- [ ] Advanced color customization
- [ ] Table and complex markdown compatibility
- [ ] Command palette integration

### Phase 3: People Management (Weeks 5-6)
- [ ] People database and UI
- [ ] Task assignment implementation
- [ ] @mention syntax support
- [ ] Assignment visualization

### Phase 4: Time Tracking (Weeks 7-8)
- [ ] Timer implementation
- [ ] Session logging
- [ ] Time calculation and aggregation
- [ ] Basic reporting

### Phase 5: Views & Visualization (Weeks 9-10)
- [ ] Dashboard implementation
- [ ] Progress bars and charts
- [ ] Multiple view modes
- [ ] Export functionality

### Phase 6: Polish & Release (Weeks 11-12)
- [ ] Comprehensive testing
- [ ] Documentation and examples
- [ ] Performance optimization
- [ ] Community preview and feedback

## Success Criteria

The TaskMaster plugin will be considered successful when:

1. **Core Functionality**: All multi-state button features work reliably across different markdown contexts
2. **User Adoption**: Positive reception from the Obsidian community with active usage
3. **Performance**: Plugin operates smoothly without noticeably impacting Obsidian performance
4. **Extensibility**: Architecture supports future feature additions without major refactoring
5. **Documentation**: Complete user guides and developer documentation enable community contributions

This PRD serves as the foundational document for TaskMaster development, ensuring all stakeholders understand the vision, requirements, and success criteria for this comprehensive task management solution.
